(this["webpackJsonpblog-cms"]=this["webpackJsonpblog-cms"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),a=n(15),i=n.n(a),r=(n(74),n.p,n(11)),o=n(8),l=(n(75),n(34)),d=n.n(l),j=n(17),u=n(50),b=n(19),h=n(5),p=n(20),O=n.n(p),x="https://instablog-server.herokuapp.com",m=function(e){return O.a.get("".concat(x,"/api/post/")+e)},f=function(){return O.a.get("".concat(x,"/api/post/all"))},g=function(e){return O.a.get("".concat(x,"/api/user/")+e+"/post/all")},v=function(e){return O.a.post("".concat(x,"/api/post/create"),e)},N=function(e,t){return O.a.put("".concat(x,"/api/post/update/")+e,t)},w=function(e){return O.a.delete("".concat(x,"/api/post/delete/")+e)},S=function(e){return O.a.post("".concat(x,"/api/user/login"),e)},y=function(e){return O.a.post("".concat(x,"/api/user/create"),e)},C=function(e){return O.a.get("".concat(x,"/api/auth/token"),{headers:{"auth-token":"".concat(e)}})},k=function(e){return O.a.post("https://api.cloudinary.com/v1_1/brandonp321/image/upload",e)},I=n(64),P=n.n(I);n(100);function D(e){var t=e.addSection,n=e.addImage,s=e.previewSite,a=e.publish,i=e.showSitePreview;return Object(c.jsx)(P.a,{children:Object(c.jsxs)("div",{className:"post-creator-tools",children:[Object(c.jsx)("div",{className:"tools-header",children:Object(c.jsx)("p",{children:"Creation Tools"})}),Object(c.jsxs)("div",{className:"tools",children:[Object(c.jsx)("button",{onClick:t,children:"Add Section"}),Object(c.jsx)("button",{onClick:n,children:"Add Image"}),Object(c.jsx)("button",{className:i?"active":"",onClick:s,children:"Priview Post"}),Object(c.jsx)("button",{className:"bottom-button",onClick:a,children:"Publish"})]})]})})}n(101);function A(e){var t=Object(s.useRef)();return Object(c.jsxs)("div",{className:"section-options-container",children:[Object(c.jsxs)("div",{className:"section-arrows",children:[Object(c.jsx)("div",{className:"up-arrow",onClick:function(){return e.handleSectionMove(e.index,"up")},children:Object(c.jsx)("i",{class:"fas fa-sort-up"})}),Object(c.jsx)("div",{className:"down-arrow",onClick:function(){return e.handleSectionMove(e.index,"down")},children:Object(c.jsx)("i",{class:"fas fa-sort-down"})})]}),e.isForImage?Object(c.jsxs)("div",{className:"section-image-change-wrapper",onClick:function(){return t.current.click()},children:[Object(c.jsx)("i",{className:"far fa-image"}),Object(c.jsx)("input",{ref:t,type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var n=t.target.files[0],c=new FileReader;c.onload=function(t){return e.updateSectionImage(t.target.result,e.index)},c.readAsDataURL(n)}})]}):"",Object(c.jsx)("div",{className:"section-delete-wrapper",onClick:function(){return e.handleSectionDelete(e.index)},children:Object(c.jsx)("i",{class:"fas fa-trash-alt"})})]})}n(102);function T(e){return Object(c.jsxs)("div",{className:"post-creator-section",children:[Object(c.jsx)("h1",{className:"post-title",onBlur:e.handleTextInputChange,"data-index":e.index,"data-name":"title",contentEditable:!0,children:e.title}),Object(c.jsx)("h3",{className:"post-sub-title",onBlur:e.handleTextInputChange,"data-index":e.index,"data-name":"subtitle",contentEditable:!0,children:e.subtitle})]})}n(103);function E(e){return Object(c.jsxs)("div",{className:"post-creator-section",children:[Object(c.jsx)(A,{isForImage:!0,index:e.index,handleSectionMove:e.handleSectionMove,handleSectionDelete:e.handleSectionDelete,updateSectionImage:e.updateSectionImage}),Object(c.jsx)("img",{className:"post-image",src:e.url||"https://via.placeholder.com/1920x1080",alt:e.alt})]})}n(104);function M(e){return Object(c.jsxs)("div",{className:"post-creator-section",children:[Object(c.jsx)(A,{index:e.index,handleSectionMove:e.handleSectionMove,handleSectionDelete:e.handleSectionDelete}),Object(c.jsx)("h2",{onBlur:e.handleTextInputChange,"data-index":e.index,"data-name":"heading",contentEditable:!0,children:e.heading}),Object(c.jsx)("p",{onBlur:e.handleTextInputChange,"data-index":e.index,"data-name":"text",contentEditable:!0,children:e.text})]})}n(105);function B(e){var t=Object(o.h)(),n=(t.userId,t.postId),a=Object(s.useState)(!1),i=Object(h.a)(a,2),r=i[0],l=i[1],p=Object(s.useState)([]),O=Object(h.a)(p,2),x=O[0],f=O[1],g=Object(s.useRef)([]),v=function(e){g.current=e,f(e)},w=Object(s.useState)(!1),S=Object(h.a)(w,2),y=S[0],C=S[1];Object(s.useEffect)((function(){m(n).then((function(e){v(e.data.postSections)}))}),[]),Object(s.useEffect)((function(){document.body.style.overflowY=r?"hidden":"auto"}),[r]);var I=function(e,t){var n=Object(b.a)(g.current),c="up"===t?-1:1,s=n.splice(e,1)[0];n.splice(e+c,0,s),v(n)},P=function(e){var t=Object(b.a)(g.current);t.splice(e,1),v(t)},A=function(e){var t=e.target.getAttribute("data-name"),n=e.target.innerText,c=e.target.getAttribute("data-index"),s=Object(b.a)(g.current);s[c][t]=n,g.current=s},B=function(e,t){var n=Object(b.a)(g.current);n[t].url=e,v(n)},F=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0),Promise.all(g.current.map(function(){var e=Object(u.a)(d.a.mark((function e(t,n){var c,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image"!==t.sectionType){e.next=9;break}return c={file:t.url,upload_preset:"oatstti0"},e.next=4,k(c);case 4:return s=e.sent,a=s.data.url,e.abrupt("return",Object(j.a)(Object(j.a)({},t),{},{url:a}));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())).then((function(e){l(!1),N(n,{postSections:e})})).catch((function(e){console.log(e),alert("An error has occurred"),l(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"loading-screen-overlay".concat(r?" active":""),children:[Object(c.jsx)("i",{className:"fad fa-spinner-third"}),Object(c.jsx)("h2",{children:"Publishing..."})]}),Object(c.jsx)(D,{addSection:function(){v([].concat(Object(b.a)(g.current),[{sectionType:"subSection",heading:"Heading",text:"This is the body text for this section"}]))},addImage:function(){v([].concat(Object(b.a)(g.current),[{sectionType:"image",url:"",alt:""}]))},previewSite:function(){y?document.querySelectorAll(".section-options-container").forEach((function(e){return e.style.display="block"})):document.querySelectorAll(".section-options-container").forEach((function(e){return e.style.display="none"})),C(!y)},publish:F,showSitePreview:y}),Object(c.jsx)("div",{className:"content-responsive",children:x.map((function(e,t){switch(e.sectionType){case"title":return Object(c.jsx)("div",{className:"post-section-wrapper",children:Object(c.jsx)(T,{title:e.title,subtitle:e.subtitle,index:t,handleTextInputChange:A,handleSectionMove:I,handleSectionDelete:P})});case"subSection":return Object(c.jsx)("div",{className:"post-section-wrapper",children:Object(c.jsx)(M,{heading:e.heading,text:e.text,index:t,handleTextInputChange:A,handleSectionMove:I,handleSectionDelete:P})});case"image":return Object(c.jsx)("div",{className:"post-section-wrapper",children:Object(c.jsx)(E,{url:e.url,alt:e.alt,index:t,handleSectionMove:I,handleSectionDelete:P,updateSectionImage:B})})}}))})]})}n(109);function F(e){return Object(c.jsxs)("div",{className:"post-section",children:[Object(c.jsx)("h2",{children:e.heading}),Object(c.jsx)("p",{children:e.text})]})}n(110);function L(e){return Object(c.jsx)("img",{className:"post-image",src:e.url,alt:e.alt})}function R(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"post-title",children:e.title}),Object(c.jsx)("h3",{className:"post-sub-title",children:e.subtitle})]})}n(111);function U(){var e=Object(o.h)().id,t=Object(s.useState)([]),n=Object(h.a)(t,2),a=n[0],i=n[1];return Object(s.useEffect)((function(){m(e).then((function(e){i(e.data.postSections)}))}),[]),Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"content-responsive",children:a.map((function(e,t){switch(e.sectionType){case"title":return Object(c.jsx)("div",{className:"post-section-wrapper",children:Object(c.jsx)(R,{title:e.title,subtitle:e.subtitle,index:t})});case"subSection":return Object(c.jsx)("div",{className:"post-section-wrapper",children:Object(c.jsx)(F,{heading:e.heading,text:e.text,index:t})});case"image":return Object(c.jsx)("div",{className:"post-section-wrapper",children:Object(c.jsx)(L,{url:e.url,alt:e.alt,index:t})})}}))})})}var q=n(24);n(112);function H(e){var t=e.handleLoginAttempt,n=e.toggleForm,s=e.handleLoginTextInputChange;return Object(c.jsxs)("div",{className:"login-form-container",children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsxs)("form",{onSubmit:t,children:[Object(c.jsxs)("div",{class:"form-group",children:[Object(c.jsx)("label",{for:"login-email-input",children:"Email address"}),Object(c.jsx)("input",{type:"email",class:"form-control",id:"login-email-input",name:"email",onChange:s,required:!0})]}),Object(c.jsxs)("div",{class:"form-group",children:[Object(c.jsx)("label",{for:"login-password-input",children:"Password"}),Object(c.jsx)("input",{type:"password",class:"form-control",id:"login-password-input",name:"password",onChange:s,required:!0})]}),Object(c.jsx)("button",{type:"submit",class:"btn btn-primary",children:"Login"})]}),Object(c.jsxs)("p",{children:["Don't have an account? ",Object(c.jsx)("a",{href:"#",onClick:n,children:"Sign Up"})]})]})}n(113);function _(e){var t=e.toggleForm,n=e.handleSignUpAttempt,s=e.handleSignUpTextinputChange,a=e.signUpPasswordsMatch;return Object(c.jsxs)("div",{className:"signup-form-container",children:[Object(c.jsx)("h1",{children:"Sign Up"}),Object(c.jsxs)("form",{onSubmit:n,children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{for:"signup-name-input",children:"Name"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"signup-name-input",name:"name",onChange:s,required:!0})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{for:"signup-email-input",children:"Email address"}),Object(c.jsx)("input",{type:"email",className:"form-control",id:"signup-email-input",name:"email",onChange:s,required:!0})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{for:"signup-password-input",children:"Password"}),Object(c.jsx)("input",{type:"password",className:"form-control",id:"signup-password-input",name:"password",onChange:s,required:!0})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{for:"signup-password-second-input",children:"Re-Enter Password"}),Object(c.jsx)("input",{type:"password",className:"form-control",id:"signup-password-second-input",name:"passwordReEnter",onChange:s,required:!0}),Object(c.jsx)("small",{id:"emailHelp",className:"form-text text-muted text-danger",children:a?"":"Passwords must match"})]}),Object(c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})]}),Object(c.jsxs)("p",{children:["Already have an account? ",Object(c.jsx)("a",{href:"#",onClick:t,children:"Login"})]})]})}n(114);function J(e){var t=Object(o.f)(),n=e.isMakingNewAccount,a=Object(s.useState)(!n),i=Object(h.a)(a,2),r=i[0],l=i[1],d=Object(s.useState)(!0),u=Object(h.a)(d,2),b=u[0],p=u[1],O=Object(s.useState)({name:"",email:"",password:"",passwordReEnter:""}),x=Object(h.a)(O,2),m=x[0],f=x[1],g=Object(s.useState)({email:"",password:""}),v=Object(h.a)(g,2),N=v[0],w=v[1];Object(s.useEffect)((function(){var e=m.password,t=m.passwordReEnter;p(e===t)}),[m]);var C=function(){l(!r)};return Object(c.jsx)(c.Fragment,{children:r?Object(c.jsx)(H,{toggleForm:C,handleLoginAttempt:function(e){e.preventDefault(),S(N).then((function(e){var n=e.headers["auth-token"],c=e.data;localStorage.setItem("token",n),t.push("/dashboard/user/"+c)})).catch((function(e){e.response.status}))},handleLoginTextInputChange:function(e){var t=e.target.name,n=e.target.value;w(Object(j.a)(Object(j.a)({},N),{},Object(q.a)({},t,n)))}}):Object(c.jsx)(_,{toggleForm:C,signUpPasswordsMatch:b,handleSignUpAttempt:function(e){e.preventDefault();var n=m.name,c=m.email,s=m.password;y({name:n,email:c,password:s}).then((function(e){var n=e.headers["auth-token"];localStorage.setItem("token",n),t.push("/dashboard/user/".concat(e.data))})).catch((function(e){e.response.status}))},handleSignUpTextinputChange:function(e){var t=e.target.name,n=e.target.value;f(Object(j.a)(Object(j.a)({},m),{},Object(q.a)({},t,n)))}})})}var W=n(128),Y=n(66);n(115);function z(){return Object(c.jsxs)("div",{className:"profile-container",children:[Object(c.jsx)("h2",{children:"My Profile"}),Object(c.jsxs)("div",{className:"profile-flex-wrapper",children:[Object(c.jsxs)("div",{className:"profile-info-group name",children:[Object(c.jsx)("p",{className:"info-heading",children:Object(c.jsx)("strong",{children:"Name"})}),Object(c.jsx)("p",{className:"info",children:"Brandon"})]}),Object(c.jsxs)("div",{className:"profile-info-group email",children:[Object(c.jsx)("p",{className:"info-heading",children:Object(c.jsx)("strong",{children:"Email"})}),Object(c.jsx)("p",{className:"info",children:"email@email.com"})]}),Object(c.jsxs)("div",{className:"profile-info-group bio",children:[Object(c.jsx)("p",{className:"info-heading",children:Object(c.jsx)("strong",{children:"Bio"})}),Object(c.jsx)("p",{className:"info",children:"This is my bio"})]})]})]})}n(116);function G(e){var t=Object(s.useState)(!1),n=Object(h.a)(t,2),a=n[0],i=n[1];return Object(c.jsxs)("div",{className:a?"my-post-brief expanded":"my-post-brief",children:[Object(c.jsxs)("div",{className:"my-post-details",children:[Object(c.jsx)(r.b,{className:"my-post-title",href:"/post/".concat(e.id),target:"_blank",children:Object(c.jsx)("strong",{children:e.title})}),Object(c.jsx)("p",{className:"my-post-description",children:e.description})]}),Object(c.jsxs)("div",{className:"my-post-options",children:[Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.showPostUpdateModal(e.title,e.description,e.id)},children:"Details"}),Object(c.jsx)("button",{className:"btn btn-primary",onClick:function(){return window.open("/user/"+e.userId+"/post/update/"+e.id)},children:"Edit"}),Object(c.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.handlePostDeleteAttempt(e.id)},children:"Delete"}),Object(c.jsx)("a",{href:"#",onClick:function(){return i(!a)},children:a?"Read Less":"Read More"})]})]})}n(117);function K(){var e=Object(o.h)().userId,t=Object(s.useState)([]),n=Object(h.a)(t,2),a=n[0],i=n[1],r=Object(s.useState)([]),l=Object(h.a)(r,2),d=l[0],u=l[1],b=Object(s.useState)(!1),p=Object(h.a)(b,2),O=p[0],x=p[1],m=Object(s.useState)(!1),f=Object(h.a)(m,2),S=f[0],y=f[1],C=Object(s.useState)(null),k=Object(h.a)(C,2),I=k[0],P=k[1],D=Object(s.useState)(null),A=Object(h.a)(D,2),T=A[0],E=A[1],M=Object(s.useState)({title:"",description:""}),B=Object(h.a)(M,2),F=B[0],L=B[1],R=Object(s.useState)(!0),U=Object(h.a)(R,2),H=U[0],_=U[1],J=Object(s.useState)(0),K=Object(h.a)(J,2),Q=K[0],V=K[1],X=Object(s.useCallback)((function(){if(H){var t={title:F.title,description:F.description,creator:e,postSections:[{sectionType:"title",title:"Blog Post Title",subtitle:"Insert subtitle here"}]};v(t).then((function(t){console.log(t.data),window.open("/user/".concat(e,"/post/update/").concat(t.data._id)),Z()}))}else N(T,F).then((function(){Z()}))}),[H,F,T]);Object(s.useEffect)((function(){g(e).then((function(e){var t=e.data;console.log(t),i(t)}))}),[]),Object(s.useEffect)((function(){if(a.length>0){var e=5*Q+4<a.length?5*Q+4:a.length;console.log(5*Q+4,a.length);var t=a.slice(5*Q,e+1);u(t)}}),[a,Q]);var Z=function(){x(!O)},$=function(){y(!1),P(null)},ee=function(e,t,n){_(!1),L({title:e,description:t}),E(n),x(!O)},te=function(e){var t=e.target.name,n=e.target.value;L(Object(j.a)(Object(j.a)({},F),{},Object(q.a)({},t,n)))},ne=function(e){P(e),y(!0)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"dashboard-wrapper",children:[Object(c.jsx)("h1",{className:"text-white",children:"My Dashboard"}),Object(c.jsxs)("div",{className:"dashboard-content-wrapper",children:[Object(c.jsx)(z,{}),Object(c.jsxs)("div",{className:"my-posts-container",children:[Object(c.jsx)("h2",{className:"text-white",children:"My Posts"}),Object(c.jsx)("div",{className:"search-bar",children:Object(c.jsx)("div",{className:"flex-items-right",children:Object(c.jsx)("button",{className:"new-post-btn btn btn-primary",onClick:function(){_(!0),L({title:"",description:""}),Z()},children:"Create New Post"})})}),Object(c.jsx)("div",{className:"posts",children:d.map((function(t){return Object(c.jsx)(G,{title:t.title,description:t.description,id:t._id,userId:e,showPostUpdateModal:ee,handlePostDeleteAttempt:ne})}))}),Object(c.jsxs)("div",{className:"my-posts-page-btns",children:[0!==Q?Object(c.jsx)("button",{className:"btn btn-light",onClick:function(){V(Q-1)},children:"Previous"}):Object(c.jsx)("button",{className:"btn btn-light",disabled:!0,children:"Previous"}),5*Q+4<a.length?Object(c.jsx)("button",{className:"btn btn-light",onClick:function(){V(Q+1)},children:"Next"}):Object(c.jsx)("button",{className:"btn btn-light",disabled:!0,children:"Next"})]})]})]})]}),Object(c.jsxs)(W.a,{show:O,onHide:Z,children:[Object(c.jsx)(W.a.Header,{closeButton:!0,children:Object(c.jsx)(W.a.Title,{children:"Blog Post Details"})}),Object(c.jsxs)(W.a.Body,{children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{for:"blog-title-input",children:"Title"}),Object(c.jsx)("input",{id:"blog-title-input",className:"modal-post-title form-control",placeholder:"Blog Post Title",name:"title",value:F.title,onChange:te})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{for:"blog-desc-input",children:"Description"}),Object(c.jsx)("textarea",{id:"blog-desc-input",className:"modal-post-description form-control",placeholder:"Description",name:"description",value:F.description,onChange:te})]})]}),Object(c.jsxs)(W.a.Footer,{children:[Object(c.jsx)(Y.a,{variant:"secondary",onClick:Z,children:"Close"}),Object(c.jsx)(Y.a,{variant:"primary",onClick:X,children:H?"Create Post":"Save Changes"})]})]}),Object(c.jsxs)(W.a,{show:S,onHide:$,children:[Object(c.jsx)(W.a.Header,{closeButton:!0,children:Object(c.jsx)(W.a.Title,{children:"Blog Post Details"})}),Object(c.jsx)(W.a.Body,{children:"Are you sure you want to delete this blog post?"}),Object(c.jsxs)(W.a.Footer,{children:[Object(c.jsx)(Y.a,{variant:"danger",onClick:function(){console.log(I),w(I).then((function(){$()}))},children:"Delete"}),Object(c.jsx)(Y.a,{variant:"primary",onClick:$,children:"Cancel"})]})]})]})}var Q=n(127),V=n(67);n(118);function X(e){var t=Object(o.f)(),n=Object(s.useState)(!1),a=Object(h.a)(n,2),i=a[0],r=a[1],l=Object(s.useRef)(),d=Object(s.useRef)();return Object(c.jsxs)("div",{ref:l,className:"home-post-brief",children:[Object(c.jsxs)("h3",{onClick:function(){return t.push("/post/"+e.id)},children:[e.title," ",Object(c.jsx)("span",{className:"creation-date"})]}),Object(c.jsxs)("p",{className:"creator",children:[e.creator," ",new Date(e.createdAt).toLocaleDateString()]}),Object(c.jsx)("p",{ref:d,className:"description",children:e.description}),Object(c.jsx)("a",{href:"#",onClick:function(){if(i)l.current.style.height="110px";else{var e=d.current.clientHeight-58;e>0&&(l.current.style.height="".concat(l.current.clientHeight+e,"px"))}r(!i)},children:i?"Less":"More"})]})}n(119);function Z(){var e=Object(s.useState)(!0),t=Object(h.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)([]),r=Object(h.a)(i,2),o=r[0],l=r[1],d=Object(s.useState)([]),j=Object(h.a)(d,2),u=j[0],p=j[1],O=Object(s.useState)([]),x=Object(h.a)(O,2),m=x[0],g=x[1],v=Object(s.useState)(0),N=Object(h.a)(v,2),w=N[0],S=N[1];Object(s.useEffect)((function(){f().then((function(e){var t=e.data;l(t),p(t),a(!1)}))}),[]),Object(s.useEffect)((function(){if(u.length>0){var e=5*w+4<u.length?5*w+4:u.length,t=u.slice(5*w,e+1);g(t)}}),[u,w]);var y=Object(s.useCallback)((function(e){switch(console.log("sorting by "+e),e){case"recent":var t=Object(b.a)(o).sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}));p(t);break;case"oldest":t=Object(b.a)(o).sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)}));p(t);break;case"none":p(Object(b.a)(o))}S(0)}),[o]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"hero",children:Object(c.jsxs)("div",{className:"text-wrapper",children:[Object(c.jsx)("h3",{children:"Welcome to"}),Object(c.jsx)("h1",{children:"Instablog"}),Object(c.jsx)("p",{})]})}),Object(c.jsx)("div",{className:"home-search-bar",children:Object(c.jsxs)(Q.a,{id:"dropdown-basic-button",title:"Sort",children:[Object(c.jsx)(V.a.Item,{as:"button",onClick:function(){return y("recent")},children:"Most Recent"}),Object(c.jsx)(V.a.Item,{as:"button",onClick:function(){return y("oldest")},children:"Oldest"}),Object(c.jsx)(V.a.Item,{as:"button",onClick:function(){return y("none")},children:"No Sort"})]})}),Object(c.jsxs)("div",{className:"home-blog-posts",children:[m.map((function(e){return Object(c.jsx)(X,{title:e.title,description:e.description,id:e._id,createdAt:e.createdAt,creator:e.creator})})),Object(c.jsxs)("div",{className:"loading-display".concat(n?"":" hide"),children:["Loading Posts ",Object(c.jsx)("i",{className:"fad fa-spinner-third"})]})]}),Object(c.jsxs)("div",{className:"home-posts-pages-btns",children:[0!==w?Object(c.jsx)("button",{className:"btn btn-light",onClick:function(){S(w-1)},children:"Prev"}):Object(c.jsx)("button",{className:"btn btn-light",disabled:!0,children:"Prev"}),5*w+4<o.length?Object(c.jsx)("button",{className:"btn btn-light",onClick:function(){S(w+1)},children:"Next"}):Object(c.jsx)("button",{className:"btn btn-light",disabled:!0,children:"Next"})]})]})}n(121);function $(){var e=Object(o.g)(),t=Object(o.f)(),n=Object(s.useState)(null),a=Object(h.a)(n,2),i=a[0],l=a[1],d=Object(s.useState)(!1),j=Object(h.a)(d,2),u=j[0],b=j[1];Object(s.useEffect)((function(){var e=localStorage.getItem("token");e?C(e).then((function(e){l(e.data)})).catch((function(e){l(null)})):l(!1),b(!1)}),[e]);return Object(c.jsxs)("header",{children:[Object(c.jsx)("div",{className:"header-items-left",children:Object(c.jsxs)(r.b,{to:"/",className:"header-logo",children:[Object(c.jsx)("i",{className:"fad fa-comment-lines"})," Instablog"]})}),Object(c.jsxs)("div",{className:"header-items-right",children:[Object(c.jsx)("i",{className:"fas fa-user",onClick:function(){b(!u)}}),i?Object(c.jsxs)("div",{className:"header-user-pop-up".concat(u?" active":""),children:[Object(c.jsx)("p",{className:"user-name",children:i.name}),Object(c.jsx)(r.b,{className:"dashboard-link",to:"dashboard/user/".concat(i.id),children:"My Dashboard"}),Object(c.jsx)("button",{className:"logout-btn btn btn-primary",onClick:function(){localStorage.removeItem("token"),"/"===e.pathname?t.go(0):t.push("/")},children:"Log Out"})]}):Object(c.jsx)("div",{className:"header-user-pop-up".concat(u?" active":""),children:Object(c.jsxs)("div",{className:"flex-wrapper",children:[Object(c.jsx)(r.b,{className:"login-btn btn btn-dark",to:"/login",children:"Log in"}),Object(c.jsx)(r.b,{className:"signup-btn btn btn-dark",to:"/signup",children:"Sign Up"})]})})]})]})}var ee=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)("div",{className:"content-header-shift",children:Object(c.jsxs)(r.a,{basename:"/blog-cms",children:[Object(c.jsx)($,{}),Object(c.jsxs)(o.c,{children:[Object(c.jsxs)(o.a,{exact:!0,path:"/",children:[Object(c.jsx)("div",{className:"bg bg-dark"}),Object(c.jsx)(Z,{})]}),Object(c.jsx)(o.a,{exact:!0,path:"/login",children:Object(c.jsx)(J,{isMakingNewAccount:!1})}),Object(c.jsx)(o.a,{exact:!0,path:"/signup",children:Object(c.jsx)(J,{isMakingNewAccount:!0})}),Object(c.jsxs)(o.a,{exact:!0,path:"/dashboard/user/:userId",children:[Object(c.jsx)("div",{className:"bg bg-dark"}),Object(c.jsx)(K,{})]}),Object(c.jsx)(o.a,{exact:!0,path:"/user/:userId/post/update/:postId",children:Object(c.jsx)(B,{})}),Object(c.jsx)(o.a,{exact:!0,path:"/post/:id",children:Object(c.jsx)(U,{})})]})]})})})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(c.jsx)(ee,{}),document.getElementById("root")),te()},74:function(e,t,n){},75:function(e,t,n){}},[[122,1,2]]]);
//# sourceMappingURL=main.c9f0e0be.chunk.js.map